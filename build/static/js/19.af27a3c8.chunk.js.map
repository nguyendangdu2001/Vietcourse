{"version":3,"sources":["../node_modules/react-reveal/Tada.js","../node_modules/@material-ui/icons/esm/NotificationImportantOutlined.js","Component/Noticfication.js","Component/NoticficationButton.js"],"names":["_objectWithoutProperties","e","r","o","t","indexOf","Object","prototype","hasOwnProperty","call","make","name","_globals","animation","rule","Tada","arguments","length","defaults","children","out","timeout","duration","a","n","delay","u","l","count","p","d","forever","s","i","style","animationFillMode","_wrap2","default","defineProperty","exports","value","_propTypes","require","_wrap","__esModule","propTypes","number","bool","module","createSvgIcon","React","createElement","Noticfication","props","data","title","description","ListItem","button","ListItemText","primary","secondary","NoticficationButton","userStatus","useSelector","state","id","useMemo","userInfo","_id","useState","anchorEl","setAnchorEl","useFirestoreConnect","collection","where","queryParams","firestore","useFirestore","noticfications","ordered","values","activeNotic","reduce","sum","notic","seen","open","Boolean","IconButton","aria-label","onClick","currentTarget","Badge","badgeContent","color","anchorOrigin","vertical","horizontal","spy","NotificationImportantOutlined","Popover","onClose","get","then","batch","docs","forEach","update","ref","commit","transformOrigin","map","key"],"mappings":"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","file":"static/js/19.af27a3c8.chunk.js","sourcesContent":["\"use strict\";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,r){var o={};for(var t in e)r.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);return o}function make(){return name||(name=(0,_globals.animation)(rule))}function Tada(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_globals.defaults,r=e.children,o=(e.out,e.timeout),t=e.duration,a=void 0===t?_globals.defaults.duration:t,n=e.delay,u=void 0===n?_globals.defaults.delay:n,l=e.count,p=void 0===l?_globals.defaults.count:l,d=e.forever,s=_objectWithoutProperties(e,[\"children\",\"out\",\"timeout\",\"duration\",\"delay\",\"count\",\"forever\"]),i={make:make,duration:void 0===o?a:o,delay:u,forever:d,count:p,style:{animationFillMode:\"both\"}};return(0,_wrap2.default)(s,i,!1,r,!0)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _propTypes=require(\"prop-types\"),_wrap=require(\"./wrap\"),_wrap2=_interopRequireDefault(_wrap),_globals=require(\"./globals\"),propTypes={duration:_propTypes.number,timeout:_propTypes.number,delay:_propTypes.number,count:_propTypes.number,forever:_propTypes.bool},rule=\"\\n  from {\\n    transform: scale3d(1, 1, 1);\\n  }\\n\\n  10%, 20% {\\n    transform: scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg);\\n  }\\n\\n  30%, 50%, 70%, 90% {\\n    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);\\n  }\\n\\n  40%, 60%, 80% {\\n    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);\\n  }\\n\\n  to {\\n    transform: scale3d(1, 1, 1);\\n}\\n\",name=!1;Tada.propTypes=propTypes,exports.default=Tada,module.exports=exports.default;","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M10.01 21.01c0 1.1.89 1.99 1.99 1.99s1.99-.89 1.99-1.99h-3.98zM12 6c2.76 0 5 2.24 5 5v7H7v-7c0-2.76 2.24-5 5-5zm0-4.5c-.83 0-1.5.67-1.5 1.5v1.17C7.36 4.85 5 7.65 5 11v6l-2 2v1h18v-1l-2-2v-6c0-3.35-2.36-6.15-5.5-6.83V3c0-.83-.67-1.5-1.5-1.5zM11 8h2v4h-2zm0 6h2v2h-2z\"\n}), 'NotificationImportantOutlined');","import React from 'react'\r\nimport { ListItem, ListItemText } from '@material-ui/core'\r\n\r\nexport const Noticfication = (props) => {\r\n    const {title,description} = props.data\r\n    return (\r\n        <ListItem button>\r\n            <ListItemText primary={title} secondary={description}/>\r\n        </ListItem>\r\n    )\r\n}\r\n\r\n\r\n","import React, { useState, useMemo } from \"react\";\r\nimport { IconButton, Badge, Popover } from \"@material-ui/core\";\r\nimport { NotificationImportantOutlined } from \"@material-ui/icons\";\r\nimport { useFirestoreConnect, useFirestore } from \"react-redux-firebase\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Noticfication } from \"./Noticfication\";\r\nimport Tada from \"react-reveal/Tada\";\r\n\r\nexport const NoticficationButton = () => {\r\n    const userStatus = useSelector((state) => state.userStatus);\r\n    const id = useMemo(() => userStatus.userInfo && userStatus.userInfo._id, [userStatus]);\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    useFirestoreConnect(() => [\r\n        { collection: \"noticfications\", where: [[\"userId\", \"==\", id]], queryParams: [\"orderByChild=Date\"] },\r\n    ]);\r\n    const firestore = useFirestore();\r\n\r\n    const noticfications = useSelector(\r\n        ({ firestore: { ordered } }) => ordered.noticfications && Object.values(ordered.noticfications)\r\n    );\r\n\r\n    const activeNotic = useMemo(() => {\r\n        return (\r\n            noticfications &&\r\n            noticfications.reduce((sum, notic) => {\r\n                return notic.seen ? sum : sum + 1;\r\n            }, 0)\r\n        );\r\n    }, [noticfications]);\r\n    const open = Boolean(anchorEl);\r\n    const closeHandler = () => {\r\n        setAnchorEl(null);\r\n        const colection = firestore.collection(\"noticfications\");\r\n        colection\r\n            .where(\"seen\", \"==\", false)\r\n            .get()\r\n            .then((data) => {\r\n                let batch = firestore.batch();\r\n                data.docs.forEach((notic) => {\r\n                    batch.update(notic.ref, { seen: true });\r\n                });\r\n                batch.commit();\r\n            });\r\n    };\r\n    const openHandler = (e) => {\r\n        setAnchorEl(e.currentTarget);\r\n    };\r\n    return (\r\n        <div>\r\n            <IconButton aria-label=\"noticfication\" onClick={openHandler}>\r\n                <Badge\r\n                    badgeContent={activeNotic}\r\n                    color=\"secondary\"\r\n                    anchorOrigin={{ vertical: \"bottom\", horizontal: \"right\" }}\r\n                >\r\n                    <Tada spy={activeNotic}>\r\n                        <NotificationImportantOutlined />\r\n                    </Tada>\r\n                </Badge>\r\n            </IconButton>\r\n            <Popover\r\n                open={open}\r\n                anchorEl={anchorEl}\r\n                onClose={closeHandler}\r\n                anchorOrigin={{\r\n                    vertical: \"bottom\",\r\n                    horizontal: \"center\",\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: \"top\",\r\n                    horizontal: \"center\",\r\n                }}\r\n            >\r\n                {noticfications &&\r\n                    noticfications.map((notic) => {\r\n                        return <Noticfication key={notic.id} data={notic} />;\r\n                    })}\r\n            </Popover>\r\n        </div>\r\n    );\r\n};\r\nexport default NoticficationButton;\r\n"],"sourceRoot":""}