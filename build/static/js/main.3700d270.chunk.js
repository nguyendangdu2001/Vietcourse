(this.webpackJsonpbwd=this.webpackJsonpbwd||[]).push([[14],{1:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return l})),n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return d}));var a="LOGOUT",r="USER_LOGIN_REQUEST",c="USER_LOGIN_SUCCESS",u="USER_LOGIN_ERROR",o="USER_SIGNUP_REQUEST",l="USER_SIGNUP_SUCCESS",i="USER_SIGNUP_ERROR",s="USER_LOGOUT_REQUEST",p="USER_LOGOUT_SUCCESS",f="USER_LOGOUT_ERROR",d="USER_ADD_CART_ITEM"},147:function(e,t,n){"use strict";n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return O})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return E})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return b}));var a=n(6),r=n.n(a),c=n(7),u=n(24),o=n(16),l=n.n(o),i=n(26),s=n.n(i),p=n(1),f=n(51),d=n(25),b=function(e,t){return function(){var n=Object(u.a)(r.a.mark((function n(a){var u,o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:p.d}),n.next=4,l.a.post("".concat(d.a).concat(e),Object(c.a)({},t));case 4:u=n.sent,o=u.data,a({type:p.e,payload:Object(c.a)({},o)}),s.a.set("userInfo",JSON.stringify(o)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:p.c,payload:n.t0});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},m=function(e,t){return function(){var n=Object(u.a)(r.a.mark((function n(a){var u,o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:p.d,payload:{userName:e,password:t}}),n.prev=1,n.next=4,l.a.post("".concat(d.a,"/api/user/auth/local"),{userName:e,password:t},{withCredentials:!0});case 4:u=n.sent,o=u.data,console.log(o),a({type:p.e,payload:Object(c.a)({},o)}),s.a.set("userInfo",JSON.stringify(o)),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),a({type:p.c,payload:n.t0}),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}()},h=function(){return function(){var e=Object(u.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:p.d}),e.next=4,l.a.get("".concat(d.a,"/api/user/info"));case 4:n=e.sent,a=n.data,t({type:p.e,payload:Object(c.a)({},a)}),s.a.set("userInfo",JSON.stringify(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:p.c,payload:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e,t,n){return function(){var a=Object(u.a)(r.a.mark((function a(u){var o,i;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return u({type:p.j,payload:{name:e,userName:t,password:n}}),a.prev=1,a.next=4,l.a.post("".concat(d.a,"/api/user/signup"),{name:e,userName:t,password:n},{withCredentials:!0});case 4:o=a.sent,i=o.data,console.log(typeof i),u({type:p.k,payload:Object(c.a)({},i)}),s.a.set("userInfo",JSON.stringify(i)),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),u({type:p.i,payload:a.t0}),console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()},y=function(){return function(){var e=Object(u.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:p.g}),e.next=4,l.a.get("".concat(d.a,"/api/user/logout"));case 4:t({type:p.h}),s.a.remove("userInfo"),t({type:f.actionTypes.CLEAR_DATA}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:p.f,payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(u.a)(r.a.mark((function t(n){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.post("".concat(d.a,"/api/user/addcart"),{courseId:e},{withCredentials:!0});case 3:a=t.sent,c=a.data,n({type:p.b,payload:c}),t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(u.a)(r.a.mark((function t(n){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.post("".concat(d.a,"/api/user/removecart"),{courseId:e},{withCredentials:!0});case 2:a=t.sent,c=a.data,n({type:p.b,payload:c});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},239:function(e,t,n){e.exports=n(449)},244:function(e,t,n){},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(235);n.n(a).a.config();var r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).nodeApiLink||""},449:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(65),u=n.n(c),o=n(145),l=n(451),i=n(237),s=n(231);o.a.use(i.a).use(s.a).use(l.e).init({fallbackLng:"vi-VN",interpolation:{escapeValue:!1},backend:{projectId:"818058bf-938a-4f9e-b432-9a4948398255",apiKey:"b7b0b395-18e2-4add-a6b0-fd33207c4cd5",referenceLng:"vi-VN",version:"1.0.0"}});o.a,n(244);var p=n(40),f=n(4),d=function(){var e=Object(f.f)();return Object(a.useEffect)((function(){return e.listen((function(){window.scrollTo(0,0)}))}),[e]),null},b=n(16),m=n.n(b),h=n(147),O=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(28)]).then(n.t.bind(null,671,7))})),y=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(5)]).then(n.bind(null,706))})),E=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(3),n.e(1),n.e(7),n.e(8)]).then(n.bind(null,703))})),v=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(5)]).then(n.bind(null,712))})),j=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(11)]).then(n.bind(null,679))})),S=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(9),n.e(13)]).then(n.bind(null,713))})),w=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(19),n.e(17)]).then(n.bind(null,707))})),g=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(3),n.e(1),n.e(7),n.e(8)]).then(n.bind(null,702))})),k=Object(a.lazy)((function(){return n.e(6).then(n.bind(null,690))})),R=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(9),n.e(13)]).then(n.bind(null,691))})),I=Object(a.lazy)((function(){return n.e(6).then(n.bind(null,692))})),_=Object(a.lazy)((function(){return Promise.all([n.e(2),n.e(10),n.e(12)]).then(n.bind(null,714))})),U=Object(a.lazy)((function(){return n.e(22).then(n.bind(null,693))})),P=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(11)]).then(n.bind(null,694))})),x=Object(a.lazy)((function(){return Promise.all([n.e(2),n.e(10),n.e(12)]).then(n.bind(null,709))})),z=Object(a.lazy)((function(){return n.e(26).then(n.bind(null,695))})),N=Object(a.lazy)((function(){return n.e(6).then(n.bind(null,696))})),C=Object(a.lazy)((function(){return n.e(23).then(n.bind(null,697))})),T=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(5)]).then(n.bind(null,710))}));m.a.defaults.withCredentials=!0;var L=Object(a.memo)((function(){var e=Object(p.c)((function(e){return e.userStatus.auth})),t=Object(p.c)((function(e){var t=e.userStatus;return t.userInfo&&t.userInfo.role})),n=Object(f.f)(),c=Object(p.b)();return Object(a.useEffect)((function(){c(Object(h.c)())}),[]),Object(a.useEffect)((function(){console.log(t),"admin"===t&&n.push("/admin")}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(a.Suspense,{fallback:null},r.a.createElement(O,{style:{position:"absolute"},id:"back-to-top-anchor"})),r.a.createElement(a.Suspense,{fallback:null},e?r.a.createElement(y,{addStyle:"position-sticky sticky-top"}):r.a.createElement(y,{addStyle:""})),r.a.createElement(a.Suspense,{fallback:null},e?r.a.createElement(v,null):r.a.createElement(j,null)),r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",{id:"loader-wrapper"},r.a.createElement("div",{id:"loader"}))},r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/",exact:!0,component:S}),r.a.createElement(f.a,{path:"/detail/:id",component:g}),r.a.createElement(f.a,{path:"/partner",component:k}),r.a.createElement(f.a,{path:"/linhvuc/:linhvuc",component:R}),r.a.createElement(f.a,{path:"/cart",component:x}),r.a.createElement(f.a,{path:"/completed",component:I}),r.a.createElement(f.a,{path:"/inprogress",component:_}),r.a.createElement(f.a,{path:"/classroom",component:U}),r.a.createElement(f.a,{path:"/inclass",component:P}),r.a.createElement(f.a,{path:"/admin",component:w}),r.a.createElement(f.a,{path:"/privatepolicy",component:z}))),r.a.createElement(a.Suspense,{fallback:null},!e&&r.a.createElement(E,null)),r.a.createElement(a.Suspense,{fallback:null},r.a.createElement(N,null)),r.a.createElement(d,null),r.a.createElement(a.Suspense,{fallback:null},r.a.createElement(T,null)),r.a.createElement(a.Suspense,{fallback:null},!e&&r.a.createElement(C,null)))})),G=n(64),A=n(95),D=n.n(A);n(412);D.a.initializeApp({apiKey:"AIzaSyDAPCrU4-RmwsVyr6kB5PPkJrqZbr_9--E",authDomain:"vietcourse-1737b.firebaseapp.com",databaseURL:"https://vietcourse-1737b.firebaseio.com",projectId:"vietcourse-1737b",storageBucket:"vietcourse-1737b.appspot.com",messagingSenderId:"670782110772",appId:"1:670782110772:web:c2c5cafe0a5ba3104b1e61",measurementId:"G-Q37XK59JD8"}),D.a.firestore();var J=D.a,K=n(51),B=n(91);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=n(7),W=n(32),F=n(1),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{auth:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.a:return{isLogged:!1};case F.d:case F.j:case F.g:return Object(V.a)(Object(V.a)({},e),{},{loading:!0});case F.e:case F.k:return Object(V.a)(Object(V.a)({},e),{},{auth:!0,loading:!1,userInfo:t.payload});case F.c:case F.i:return{auth:!1,loading:!1,error:t.payload};case F.h:case F.f:return{auth:!1};case F.b:return Object(V.a)(Object(V.a)({},e),{},{userInfo:Object(V.a)(Object(V.a)({},e.userInfo),{},{cart:t.payload})});default:return e}},H=Object(W.c)({userStatus:Q,firestore:K.firestoreReducer,firebase:B.firebaseReducer}),q=n(236),M=n(26),X=n.n(M).a.getJSON("userInfo")||null,Z=X?{userStatus:{auth:!0,userInfo:Object(V.a)({},X)}}:{userStatus:{auth:!1}},$=Object(W.e)(H,Z,Object(W.d)(Object(W.a)(q.a))),Y={firebase:J,config:{userProfile:"user"},dispatch:$.dispatch,createFirestoreInstance:K.createFirestoreInstance};u.a.render(r.a.createElement(p.a,{store:$},r.a.createElement(B.ReactReduxFirebaseProvider,Y,r.a.createElement(G.a,null,r.a.createElement(L,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[239,15,16]]]);
//# sourceMappingURL=main.3700d270.chunk.js.map