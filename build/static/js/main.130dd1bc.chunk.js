(this.webpackJsonpbwd=this.webpackJsonpbwd||[]).push([[1],{274:function(e,t,a){e.exports=a(488)},30:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(268);a.n(n).a.config();var r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).nodeApiLink||"https://vietcourse.herokuapp.com"},488:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),s=a(22),i=a(11),l=function(){var e=Object(i.e)();return Object(n.useEffect)((function(){return e.listen((function(){window.scrollTo(0,0)}))}),[e]),null},u=a(514),m=a(515),d=a(519),f=a(20),p=a(72),h=a(525),b=a(516),E=a(51),v=a(509),y=a(513),g=function(e){var t=e.data,a=t.title,n=t.description;return r.a.createElement(v.a,{button:!0},r.a.createElement(y.a,{primary:a,secondary:n}))},O=function(){var e=Object(s.c)((function(e){return e.userStatus})),t=e.userInfo&&e.userInfo._id,a=Object(E.useFirestore)();Object(E.useFirestoreConnect)((function(){return[{collection:"noticfications",where:[["userId","==",t]],queryParams:["orderByChild=Date"]}]}));var c=Object(s.c)((function(e){var t=e.firestore.ordered;return t.noticfications&&Object.values(t.noticfications)})),o=c&&c.reduce((function(e,t){return t.seen?e:e+1}),0),i=Object(n.useState)(null),l=Object(p.a)(i,2),d=l[0],f=l[1],v=Boolean(d);return r.a.createElement("div",null,r.a.createElement(u.a,{"aria-label":"noticfication",onClick:function(e){f(e.currentTarget)}},r.a.createElement(m.a,{badgeContent:o,color:"secondary",anchorOrigin:{vertical:"bottom",horizontal:"right"}},r.a.createElement(b.a,null))),r.a.createElement(h.a,{open:v,anchorEl:d,onClose:function(){f(null),a.collection("noticfications").where("seen","==",!1).get().then((function(e){var t=a.batch();e.docs.forEach((function(e){t.update(e.ref,{seen:!0})})),t.commit()}))},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},c&&c.map((function(e){return r.a.createElement(g,{key:e.id,data:e})}))))},N=a(13),w=a.n(N),j=a(31),k=a(26),x=a.n(k),S=a(30),I=a(518),_=function(){var e,t=Object(n.useState)(),a=Object(p.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)([]),i=Object(p.a)(s,2),l=(i[0],i[1]),u=(Object(I.a)((function(e){return{root:{position:"absolute",top:"100%",zIndex:1050,width:"100%",background:"white"},pic:{height:56,width:56},inline:{display:"inline",marginLeft:8}}}))(),function(){var e=Object(j.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(S.a,"/seach/").concat(t));case 2:a=e.sent,n=a.data,l(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(n.useEffect)((function(){return e&&clearTimeout(e),e=setTimeout((function(){u(c)}),1e3),function(){}}),[c]),r.a.createElement("form",{className:"seach-form d-inline-flex align-content-center"},r.a.createElement("input",{type:"text",name:"",placeholder:"T\xecm ki\u1ebfm...",value:c,onChange:function(e){o(e.target.value)}}),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fas fa-search"})))},R=function(e){var t=Object(s.c)((function(e){return e.userStatus}));return r.a.createElement("header",{className:"".concat(e.addStyle," w-100")},r.a.createElement("div",{className:" d-flex justify-content-be align-content-center align-items-center header mx-auto p-2"},r.a.createElement(f.b,{to:"/",className:"logo"},"VietCourses"),r.a.createElement("div",{className:"dropdown subject-dropdown"},r.a.createElement("button",{type:"button",className:"btn btn-primary dropdown-toggle","data-toggle":"dropdown"},"Danh m\u1ee5c"),r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement("a",{className:"dropdown-item",href:"#"},"Nghi\xean c\u1ee9u khoa h\u1ecdc"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"C\xf4ng ngh\u1ec7 th\xf4ng tin"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Thi\u1ebft k\u1ebf \u0111\u1ed3 h\u1ecda"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Marketing-Truy\u1ec1n th\xf4ng"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Kinh doanh"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Ngo\u1ea1i ng\u1eef"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"\xc2m nh\u1ea1c"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Khoa h\u1ecdc d\u1eef li\u1ec7u"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Khoa h\u1ecdc m\xe1y t\xednh"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"S\u1ee9c kh\u1ecfe"))),r.a.createElement(_,null),t.userInfo?r.a.createElement(r.a.Fragment,null,r.a.createElement(O,null),r.a.createElement(f.b,{to:"/cart"},r.a.createElement(u.a,{"aria-label":"cart"},r.a.createElement(m.a,{badgeContent:t.userInfo.cart.length,color:"secondary",anchorOrigin:{vertical:"bottom",horizontal:"right"}},r.a.createElement(d.a,null))))):""))},C=a(89),T=a(526),U=a(520);function z(){var e=Object(s.c)((function(e){return e.userStatus.userInfo})),t=Object(s.b)(),a=Object(I.a)((function(e){return{button:{fontFamily:"inherit",textTransform:"inherit","&:hover":{background:"none"}}}}))();return Object(n.useEffect)((function(){var e=document.getElementById("userName"),t=document.querySelector("#userName span");if(e&&t)for(;t.style.width>e.style.width;)t.style.width=parseInt(t.style.width)-1+"px";return function(){}}),[]),r.a.createElement("nav",{className:"user-nav position-fixed h-100"},r.a.createElement("div",{className:"bg-gradient"},r.a.createElement("div",{className:"navbar d-flex flex-column p-0"},r.a.createElement("div",null,r.a.createElement("div",{className:"userbrief"},r.a.createElement(T.a,{style:{width:70,height:70},src:e.userPic}),r.a.createElement("div",{className:"user-name",id:"userName"},r.a.createElement("span",null,e.name)))),r.a.createElement("div",{className:"nav-n-form"},r.a.createElement("div",{className:""},r.a.createElement("ul",{className:"navbar-nav d-flex flex-column navbar-expand"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/",className:"nav-link"},r.a.createElement("i",{className:"fas fa-home"}),r.a.createElement("span",{className:"link-text"},"Trang ch\u1ee7"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/inprogress",className:"nav-link"},r.a.createElement("i",{className:"fas fa-book"}),r.a.createElement("span",{className:"link-text"},"Kho\xe1 h\u1ecdc c\u1ee7a t\xf4i"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/completed",className:"nav-link"},r.a.createElement("i",{className:"fas fa-history"}),r.a.createElement("span",{className:"link-text"},"\u0110\xe3 ho\xe0n th\xe0nh"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(U.a,{onClick:function(){t(Object(C.e)())},className:"nav-link ".concat(a.button)},r.a.createElement("i",{className:"fas fa-sign-out-alt"}),r.a.createElement("span",{className:"link-text"},"\u0110\u0103ng xu\u1ea5t")))))))),r.a.createElement("div",{className:"myshadow"}))}var P=a(92),L=a.n(P);function D(){return Object(n.useEffect)((function(){return L()(document).scroll((function(){var e=L()(this).scrollTop(),t=L()("#secondary-seach");e>72?t.css("opacity",1):t.css("opacity",0)})),function(){}}),[]),r.a.createElement("nav",{className:"guest-nav"},r.a.createElement("div",{className:"bg-gradient "},r.a.createElement("div",{className:"navbar d-flex justify-content-between mx-auto p-0 "},r.a.createElement("div",{className:"nav-n-form"},r.a.createElement("div",{className:"d-flex flex-row justify-content-between"},r.a.createElement("ul",{className:"navbar-nav navbar-expand"},r.a.createElement("li",{className:"nav-item "},r.a.createElement(f.b,{to:"/",className:"nav-link"},"Trang ch\u1ee7")),r.a.createElement("li",{className:"nav-item "},r.a.createElement(f.b,{to:"/partner",className:"nav-link"},"C\xe1c b\xean h\u1ee3p t\xe1c"))),r.a.createElement("form",{className:"seach-form align-content-center mx-3",id:"secondary-seach"},r.a.createElement("input",{type:"text",name:"",placeholder:"T\xecm ki\u1ebfm..."}),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fas fa-search"}))))),r.a.createElement("div",{className:"d-flex justify-content-around btn-grp"},r.a.createElement("button",{className:"flex-fill button btn-blue",id:"login"},"\u0110\u0103ng nh\u1eadp"),r.a.createElement("button",{className:"flex-fill button btn-outline",id:"signup"},"\u0110\u0103ng k\xfd")))),r.a.createElement("div",{className:"myshadow"}))}var G=a(521),A=a(522),J=function(e){var t=e.children,a=e.window,n=Object(I.a)((function(e){return{root:{position:"fixed",bottom:e.spacing(3),right:e.spacing(3)}}}))(),c=Object(G.a)({target:a?a():void 0,disableHysteresis:!0,threshold:300});return r.a.createElement("div",null,r.a.createElement(A.a,{in:c},r.a.createElement("div",{onClick:function(e){var t=document.querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:n.root},t)))},K=a(523),B=a(524),F=a(269),W=a.n(F),q=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(6)]).then(a.bind(null,574))})),Q=Object(n.lazy)((function(){return a.e(10).then(a.bind(null,590))})),V=Object(n.lazy)((function(){return a.e(13).then(a.bind(null,585))})),H=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(4),a.e(5)]).then(a.bind(null,591))})),M=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(8)]).then(a.bind(null,586))})),X=Object(n.lazy)((function(){return a.e(11).then(a.bind(null,587))})),Z=Object(n.lazy)((function(){return a.e(12).then(a.bind(null,593))})),$=Object(n.lazy)((function(){return a.e(9).then(a.bind(null,592))})),Y=Object(n.lazy)((function(){return a.e(7).then(a.bind(null,588))}));x.a.defaults.withCredentials=!0;var ee=function(e){var t=Object(s.c)((function(e){return e.userStatus})).auth,a=Object(s.b)();return Object(n.useEffect)((function(){return a(Object(C.b)()),function(){}}),[]),r.a.createElement("div",null,r.a.createElement(K.a,{style:{position:"absolute"},id:"back-to-top-anchor"}),t?r.a.createElement(R,{addStyle:"position-sticky sticky-top"}):r.a.createElement(R,{addStyle:""}),t?r.a.createElement(z,null):r.a.createElement(D,null),r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"loading...")},r.a.createElement(i.a,{exact:!0,path:"/",component:H}),r.a.createElement(i.a,{path:"/home",component:q}),r.a.createElement(i.a,{path:"/detail/:id",component:Q}),r.a.createElement(i.a,{path:"/partner",component:V}),r.a.createElement(i.a,{path:"/linhvuc/:linhvuc",component:M}),r.a.createElement(i.a,{path:"/cart",component:$}),r.a.createElement(i.a,{path:"/completed",component:X}),r.a.createElement(i.a,{path:"/inprogress",component:Z}),r.a.createElement(Y,null)),r.a.createElement(l,null),r.a.createElement(J,e,r.a.createElement(B.a,{color:"secondary",size:"medium","aria-label":"scroll back to top"},r.a.createElement(W.a,null))))},te=a(17),ae=a(42),ne=a(5),re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{auth:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.a:return{isLogged:!1};case ne.d:case ne.j:case ne.g:return Object(te.a)(Object(te.a)({},e),{},{loading:!0});case ne.e:case ne.k:return Object(te.a)(Object(te.a)({},e),{},{auth:!0,loading:!1,userInfo:t.payload});case ne.c:case ne.i:return{auth:!1,loading:!1,error:t.payload};case ne.h:case ne.f:return{auth:!1};case ne.b:return Object(te.a)(Object(te.a)({},e),{},{userInfo:Object(te.a)(Object(te.a)({},e.userInfo),{},{cart:t.payload})});default:return e}},ce=a(67),oe=a(121),se=a.n(oe);a(483),a(486);se.a.initializeApp({apiKey:"AIzaSyDAPCrU4-RmwsVyr6kB5PPkJrqZbr_9--E",authDomain:"vietcourse-1737b.firebaseapp.com",databaseURL:"https://vietcourse-1737b.firebaseio.com",projectId:"vietcourse-1737b",storageBucket:"vietcourse-1737b.appspot.com",messagingSenderId:"670782110772",appId:"1:670782110772:web:c2c5cafe0a5ba3104b1e61",measurementId:"G-Q37XK59JD8"}),se.a.firestore();var ie=se.a,le=Object(ae.c)({userStatus:re,firestore:ce.firestoreReducer,firebase:E.firebaseReducer}),ue=a(270),me=a(40),de=a.n(me).a.getJSON("userInfo")||null,fe=de?{userStatus:{auth:!0,userInfo:Object(te.a)({},de)}}:{userStatus:{auth:!1}},pe=Object(ae.e)(le,fe,Object(ae.d)(Object(ae.a)(ue.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var he={firebase:ie,config:{userProfile:"user"},dispatch:pe.dispatch,createFirestoreInstance:ce.createFirestoreInstance};o.a.render(r.a.createElement(s.a,{store:pe},r.a.createElement(E.ReactReduxFirebaseProvider,he,r.a.createElement(f.a,null,r.a.createElement(ee,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"e",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"j",(function(){return s})),a.d(t,"k",(function(){return i})),a.d(t,"i",(function(){return l})),a.d(t,"g",(function(){return u})),a.d(t,"h",(function(){return m})),a.d(t,"f",(function(){return d})),a.d(t,"b",(function(){return f}));var n="LOGOUT",r="USER_LOGIN_REQUEST",c="USER_LOGIN_SUCCESS",o="USER_LOGIN_ERROR",s="USER_SIGNUP_REQUEST",i="USER_SIGNUP_SUCCESS",l="USER_SIGNUP_ERROR",u="USER_LOGOUT_REQUEST",m="USER_LOGOUT_SUCCESS",d="USER_LOGOUT_ERROR",f="USER_ADD_CART_ITEM"},89:function(e,t,a){"use strict";a.d(t,"g",(function(){return p})),a.d(t,"h",(function(){return v})),a.d(t,"b",(function(){return E})),a.d(t,"d",(function(){return h})),a.d(t,"c",(function(){return b})),a.d(t,"e",(function(){return y})),a.d(t,"a",(function(){return g})),a.d(t,"f",(function(){return O}));var n=a(13),r=a.n(n),c=a(17),o=a(31),s=a(26),i=a.n(s),l=a(40),u=a.n(l),m=a(5),d=a(67),f=a(30),p=function(e,t){return function(){var a=Object(o.a)(r.a.mark((function a(n){var o,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:m.d,payload:{userName:e,password:t}}),a.prev=1,a.next=4,i.a.post("".concat(f.a,"/api/user/auth/local"),{userName:e,password:t},{withCredentials:!0});case 4:o=a.sent,s=o.data,console.log(s),n({type:m.e,payload:Object(c.a)({},s)}),u.a.set("userInfo",JSON.stringify(s)),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),n({type:m.c,payload:a.t0}),console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:m.d}),t.next=4,i.a.post("".concat(f.a,"/api/user/auth/google"),{access_token:e});case 4:n=t.sent,o=n.data,a({type:m.e,payload:Object(c.a)({},o)}),u.a.set("userInfo",JSON.stringify(o)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:m.c,payload:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:m.d}),t.next=4,i.a.post("".concat(f.a,"/api/user/auth/facebook"),{access_token:e});case 4:n=t.sent,o=n.data,a({type:m.e,payload:Object(c.a)({},o)}),u.a.set("userInfo",JSON.stringify(o)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:m.c,payload:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},E=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:m.d}),e.next=4,i.a.get("".concat(f.a,"/api/user/info"));case 4:a=e.sent,n=a.data,t({type:m.e,payload:Object(c.a)({},n)}),u.a.set("userInfo",JSON.stringify(n)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:m.c,payload:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},v=function(e,t,a){return function(){var n=Object(o.a)(r.a.mark((function n(o){var s,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o({type:m.j,payload:{name:e,userName:t,password:a}}),n.prev=1,n.next=4,i.a.post("".concat(f.a,"/api/user/signup"),{name:e,userName:t,password:a},{withCredentials:!0});case 4:s=n.sent,l=s.data,console.log(typeof l),o({type:m.k,payload:Object(c.a)({},l)}),u.a.set("userInfo",JSON.stringify(l)),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),o({type:m.i,payload:n.t0}),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}()},y=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:m.g}),e.next=4,i.a.get("".concat(f.a,"/api/user/logout"));case 4:t({type:m.h}),u.a.remove("userInfo"),t({type:d.actionTypes.CLEAR_DATA}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:m.f,payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.post("".concat(f.a,"/api/user/addcart"),{courseId:e},{withCredentials:!0});case 3:n=t.sent,c=n.data,a({type:m.b,payload:c}),t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.post("".concat(f.a,"/api/user/removecart"),{courseId:e},{withCredentials:!0});case 2:n=t.sent,c=n.data,console.log(c),a({type:m.b,payload:c});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}},[[274,2,3]]]);
//# sourceMappingURL=main.130dd1bc.chunk.js.map