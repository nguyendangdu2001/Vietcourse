(this.webpackJsonpbwd=this.webpackJsonpbwd||[]).push([[15],{592:function(e,t,n){"use strict";n.r(t),n.d(t,"NoticficationButton",(function(){return b}));var r=n(83),c=n(0),a=n.n(c),o=n(511),i=n(512),u=n(587),l=n(170),s=Object(l.a)(a.a.createElement("path",{d:"M10.01 21.01c0 1.1.89 1.99 1.99 1.99s1.99-.89 1.99-1.99h-3.98zM12 6c2.76 0 5 2.24 5 5v7H7v-7c0-2.76 2.24-5 5-5zm0-4.5c-.83 0-1.5.67-1.5 1.5v1.17C7.36 4.85 5 7.65 5 11v6l-2 2v1h18v-1l-2-2v-6c0-3.35-2.36-6.15-5.5-6.83V3c0-.83-.67-1.5-1.5-1.5zM11 8h2v4h-2zm0 6h2v2h-2z"}),"NotificationImportantOutlined"),f=n(110),d=n(40),h=n(508),m=n(510),v=function(e){var t=e.data,n=t.title,r=t.description;return a.a.createElement(h.a,{button:!0},a.a.createElement(m.a,{primary:n,secondary:r}))},b=function(){var e=Object(d.c)((function(e){return e.userStatus})),t=e.userInfo&&e.userInfo._id;Object(f.useFirestoreConnect)((function(){return[{collection:"noticfications",where:[["userId","==",t]],queryParams:["orderByChild=Date"]}]}));var n=Object(f.useFirestore)(),l=Object(d.c)((function(e){var t=e.firestore.ordered;return t.noticfications&&Object.values(t.noticfications)})),h=Object(c.useState)(null),m=Object(r.a)(h,2),b=m[0],p=m[1],O=l&&l.reduce((function(e,t){return t.seen?e:e+1}),0),E=Boolean(b);return a.a.createElement("div",null,a.a.createElement(o.a,{"aria-label":"noticfication",onClick:function(e){p(e.currentTarget)}},a.a.createElement(i.a,{badgeContent:O,color:"secondary",anchorOrigin:{vertical:"bottom",horizontal:"right"}},a.a.createElement(s,null))),a.a.createElement(u.a,{open:E,anchorEl:b,onClose:function(){p(null),n.collection("noticfications").where("seen","==",!1).get().then((function(e){var t=n.batch();e.docs.forEach((function(e){t.update(e.ref,{seen:!0})})),t.commit()}))},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},l&&l.map((function(e){return a.a.createElement(v,{key:e.id,data:e})}))))};t.default=b}}]);
//# sourceMappingURL=15.5441809a.chunk.js.map